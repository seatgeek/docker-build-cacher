name: docker-build-cacher
version: '2.1.0'
synopsis: Builds a services with docker and caches all of its intermediate stages
description: A CLI tool to speed up multi-stage docker file builds by caching intermediate
category: Operations
author:
  - José Lorenzo Rodríguez
maintainer:
  - lorenzo@seatgeek.com
copyright:
  - Seatgeek, Copyright (c) 2017
license: BSD3
github: seatgeek/docker-build-cacher
extra-source-files:
  - README.md

dependencies:
  - base >=4.9.1.0 && <5
  - turtle
  - language-docker >= 6.0.4 && < 7.0
  - containers
  - foldl
  - text
  - system-filepath
  - aeson

library:
  source-dirs: src
  ghc-options:
    - -Wall
    - -fno-warn-unused-do-bind

executables:
  docker-build-cacher:
    main: Main.hs
    source-dirs: app
    dependencies:
      - docker-build-cacher
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    - -Wall
    - -fno-warn-unused-do-bind
